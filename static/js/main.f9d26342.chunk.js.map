{"version":3,"sources":["utility/testDatabase.js","auth/auth-local-storage.js","auth/auth-with-google.js","context/ContextWrapper.js","repository/useTestDatabase.js","utility/useOnline.js","components/Intro.js","config/Firebase.js","repository/firebase-repository.js","components/Form.js","utility/accounting.js","components/Summary.js","components/ListHeader.js","components/ListSearch.js","components/List.js","utility/monthDay.js","components/Menu.js","App.js","index.js"],"names":["testDatabase","setAuthToLocalStorage","authObject","authObjectJson","JSON","stringify","localStorage","setItem","googleAuth","auth","getAuth","provider","GoogleAuthProvider","setCustomParameters","prompt","Promise","resolve","reject","signInWithPopup","then","result","catch","error","login","a","googleAuthObject","logout","removeItem","database","Context","createContext","ContextWrapper","props","useState","setDatabase","entry","console","log","Math","random","editingId","id","tempDatabase","useTestDatabase","testAddEntry","testUpdateEntry","testDeleteEntry","isOnline","window","navigator","onLine","setOnline","useEffect","addEventListener","useOnline","isOpen","setOpen","state","isEditing","context","setContext","testDatabaseDAO","addEntry","updateEntry","deleteEntry","updateContext","update","prev","Provider","value","toggleEditing","children","Intro","className","React","Component","firebaseApp","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","db","getFirestore","subscribeDatabase","uid","expensesQuery","query","collection","onSnapshot","snap","entries","forEach","doc","data","Form","category","setCategory","date","setDate","price","setPrice","notes","setNotes","useContext","amountInput","useRef","reset","handleCategoryChange","e","target","handleCategoryClick","current","focus","onKeyDown","keyCode","String","Date","Number","docRef","updateDoc","user","addDoc","onChange","type","placeholder","name","ref","supportedCategories","map","i","_category","Object","keys","emoji","onClick","htmlFor","key","role","aria-label","checked","accounting","settings","currency","symbol","decimal","thousand","precision","number","format","pos","neg","zero","Summary","expenses","filter","reduce","b","income","balance","formatMoney","ListHeader","setSort","sortBy","inverted","handleStyling","field","ListSearch","setFilter","setValue","List","endOfListTop","endOfListBottom","setState","sortData","setData","handleDelete","deleteDoc","handleClick","k","includes","parentElement","sortByedKeys","sort","reverse","sortedDatabase","filteredKeys","toLowerCase","trim","filteredData","filterData","title","innerHTML","userDate","getMonth","getDate","monthDay","Menu","src","photoURL","alt","displayName","email","getFullYear","pizza","gas","utility","groceries","App","handleLogin","handleLogout","authFromLocalStorage","getItem","parse","getAuthFromLocalStorage","filteredObject","filterThisMonth","filterLastMonth","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.f9d26342.chunk.js","sourcesContent":["export const testDatabase = {\n  \"RZOHy4ydImg8tZ9zFcqw\": {\n    \"notes\": \"Pizza with Joe\",\n    \"price\": 18.59,\n    \"category\": \"🍕\",\n    \"date\": \"Jan 13 2022 13:06:14 GMT+0100 (CET)\"\n  },\n  \"RZOHyAydImg8tZ9zscqw\": {\n    \"notes\": \"Jane's car\",\n    \"price\": 25.98,\n    \"category\": \"⛽️\",\n    \"date\": \"Jan 14 2022 13:06:14 GMT+0100 (CET)\"\n  },\n  \"RNOHyAydImg8tZ9zFcqw\": {\n    \"notes\": \"Screwdriver\",\n    \"price\": 8.21,\n    \"category\": \"⚙️\",\n    \"date\": \"Jan 15 2022 13:06:14 GMT+0100 (CET)\"\n  },\n  \"RNOHyA5dImg8tZ9zFcqz\": {\n    \"notes\": \"Fresh market\",\n    \"price\": 109.34,\n    \"category\": \"🥑\",\n    \"date\": \"Jan 16 2022 13:06:14 GMT+0100 (CET)\"\n  },\n  \"RNOHyAydImg8tZsfFcqw\": {\n    \"notes\": \"Income\",\n    \"price\": 1000.00,\n    \"category\": \"💵\",\n    \"date\": \"Jan 17 2022 13:06:14 GMT+0100 (CET)\"\n  },\n}\n","export function getAuthFromLocalStorage() {\n  const authObjectJson = localStorage.getItem(\"auth\");\n  if (!authObjectJson) return null;\n  return JSON.parse(authObjectJson);\n}\n\nexport function setAuthToLocalStorage(authObject) {\n  const authObjectJson = JSON.stringify(authObject);\n  return localStorage.setItem(\"auth\", authObjectJson);\n}\n\nexport function removeAuthFromLocalStorage() {\n  return localStorage.removeItem(\"auth\");\n}","import { getAuth, GoogleAuthProvider, signInWithPopup } from \"firebase/auth\";\nimport {\n  setAuthToLocalStorage,\n  removeAuthFromLocalStorage,\n} from \"./auth-local-storage\";\nimport { testDatabase } from \"../utility/testDatabase\";\nimport { ContextWrapper } from \"../context/ContextWrapper\";\n\nfunction googleAuth() {\n  const auth = getAuth();\n  const provider = new GoogleAuthProvider();\n  provider.setCustomParameters({\n    prompt: \"select_account\",\n  });\n\n  return new Promise((resolve, reject) => {\n    signInWithPopup(auth, provider)\n      .then((result) => {\n        resolve(result);\n      })\n      .catch((error) => {\n        reject(error);\n      });\n  });\n}\n\nexport async function login() {\n  const googleAuthObject = await googleAuth();\n  setAuthToLocalStorage(googleAuthObject);\n  return { auth: googleAuthObject };\n}\n\nexport function logout() {\n  removeAuthFromLocalStorage();\n  return { auth: null, database: testDatabase };\n}\n","import React, { useState, createContext, useEffect } from \"react\";\nimport { useTestDatabase } from \"../repository/useTestDatabase\";\nimport { useOnline } from \"../utility/useOnline\";\nimport { login, logout } from \"../auth/auth-with-google\";\n\nexport const Context = createContext();\n\nexport const ContextWrapper = (props) => {\n  const [testDatabase, testAddEntry, testUpdateEntry, testDeleteEntry] =\n    useTestDatabase();\n\n  const isOnline = useOnline();\n\n  const [isOpen, setOpen] = useState(false);\n\n  const [context, setContext] = useState({\n    auth: null,\n    database: testDatabase,\n    state: {\n      isEditing: false,\n      editingId: null,\n    },\n  });\n\n  const testDatabaseDAO = {\n    addEntry: testAddEntry,\n    updateEntry: testUpdateEntry,\n    deleteEntry: testDeleteEntry,\n  };\n\n  useEffect(() => {\n    updateContext({ database: testDatabase });\n  }, [testDatabase]);\n\n  function updateContext(update) {\n    return setContext((prev) => ({ ...prev, ...update }));\n  }\n\n  function toggleEditing(id) {\n    if (id) {\n      return updateContext({ state: { isEditing: true, editingId: id } });\n    }\n    return updateContext({ state: { isEditing: false, editingId: null } });\n  }\n\n  return (\n    <Context.Provider\n      value={{\n        context,\n        updateContext,\n        toggleEditing,\n        testDatabaseDAO,\n        isOnline,\n        isOpen,\n        setOpen,\n        login,\n        logout,\n      }}\n    >\n      {props.children}\n    </Context.Provider>\n  );\n};\n","import React, { useState, useEffect, useContext } from \"react\";\nimport { testDatabase } from \"../utility/testDatabase\";\n\nexport const useTestDatabase = () => {\n  const [database, setDatabase] = useState(testDatabase);\n\n  function updateEntry(editingId, entry) {\n    console.log(\"updateEntry\");\n    setDatabase({ ...database, [editingId]: entry });\n  }\n\n  function addEntry(entry) {\n    console.log(\"addEntry\");\n    function generateId() {\n      return Math.random() * 100;\n    }\n\n    setDatabase({ ...database, [generateId()]: entry });\n  }\n\n  function deleteEntry(id) {\n    console.log(\"deleteEntry\");\n    const tempDatabase = { ...database };\n    delete tempDatabase[id];\n    setDatabase(tempDatabase);\n  }\n\n  return [database, addEntry, updateEntry, deleteEntry];\n};\n","import React, { useState, useEffect } from \"react\";\n\nexport function useOnline() {\n  const [isOnline, setOnline] = useState(window.navigator.onLine);\n\n  useEffect(() => {\n    window.addEventListener(\"online\", () => setOnline(true));\n    window.addEventListener(\"offline\", () => setOnline(false));\n  });\n\n  return isOnline;\n}\n","import React from \"react\";\n\nexport class Intro extends React.Component {\n  render() {\n    return (\n      <>\n        <section className=\"element\">\n          <h2>\n            Welcome to Finanza\n          </h2>\n          <p>\n            Finanza is a Progressive Web App that helps you organize your personal and business spendings.\n          </p>\n          <p>\n            It's built with the newest and safest technologies, securing your data with maximum privacy.\n          </p>\n        </section>\n        <section className=\"element tutorial\">\n          <span>\n            <h3>Add</h3>\n            <p>\n              Tap a category 🍕 and press \"enter\" to submit.\n            </p>\n          </span>\n          <span>\n            <h3>Edit</h3>\n            <p>\n              Tap on an entry, then press \"enter\" to commit.\n            </p>\n          </span>\n          <span>\n            <h3>Delete</h3>\n            <p>\n              Swipe the entry to the left to reveal the ❌ button.\n            </p>\n          </span>\n        </section>\n      </>\n    )\n  };\n}\n","import { initializeApp } from \"firebase/app\";\nimport { getFirestore } from \"firebase/firestore\";\n\nconst config = {\n  apiKey: \"AIzaSyCE5pA2JSdfAPD5qnWsEEvOXEx-pI4aeLk\",\n  authDomain: \"finanza-react.firebaseapp.com\",\n  databaseURL: \"https://finanza-react.firebaseio.com\",\n  projectId: \"finanza-react\",\n  storageBucket: \"finanza-react.appspot.com\",\n  messagingSenderId: \"88000701371\",\n  appId: \"1:88000701371:web:9b451832ac2b498fea1a9e\"\n};\n\nconst firebaseApp = initializeApp(config);\nconst db = getFirestore(firebaseApp);\n\nexport { firebaseApp, db };","import { db } from \"../config/Firebase\";\nimport {\n  query,\n  collection,\n  addDoc,\n  updateDoc,\n  doc,\n  onSnapshot,\n  deleteDoc,\n} from \"firebase/firestore\";\n\nexport function subscribeDatabase(uid, updateContext) {\n  const expensesQuery = query(collection(db, `users/${uid}/expenses`));\n  const unsubscribeDatabase = onSnapshot(expensesQuery, (snap) => {\n    const entries = {};\n    snap.forEach((doc) => {\n      entries[doc.id] = doc.data();\n    });\n    updateContext({ database: entries });\n  });\n\n  return unsubscribeDatabase;\n}\n\nexport function updateEntry(uid, editingId, entry) {\n  console.log(uid, editingId, entry);\n  const docRef = doc(db, `users/${uid}/expenses/${editingId}`);\n  updateDoc(docRef, entry);\n}\n\nexport function addEntry(uid, entry) {\n  addDoc(collection(db, `users/${uid}/expenses`), entry);\n}\n\nexport function deleteEntry(uid, id) {\n  deleteDoc(doc(db, `users/${uid}/expenses/${id}`));\n}\n","import React, { useRef, useEffect, useState, useContext } from \"react\";\nimport { supportedCategories } from \"../App.js\";\nimport { Context } from \"../context/ContextWrapper\";\nimport { addEntry, updateEntry } from \"../repository/firebase-repository\";\n\nexport const Form = () => {\n  const [category, setCategory] = useState(\"\");\n  const [date, setDate] = useState(\"\");\n  const [price, setPrice] = useState(\"\");\n  const [notes, setNotes] = useState(\"\");\n\n  const { context, toggleEditing, testDatabaseDAO, isOnline } = useContext(Context);\n  const amountInput = useRef(null);\n\n  useEffect(() => {\n    if (!context.state.editingId) return reset();\n    setCategory(context.database[context.state.editingId].category);\n    setDate(context.database[context.state.editingId].date);\n    setPrice(context.database[context.state.editingId].price);\n    setNotes(context.database[context.state.editingId].notes);\n  }, [context.state.editingId]);\n\n  function focus() {\n    amountInput.current.focus();\n  }\n\n  function reset() {\n    toggleEditing();\n    setCategory(\"\");\n    setDate(\"\");\n    setPrice(\"\");\n    setNotes(\"\");\n  }\n\n  function handleDateChange(e) {\n    const value = e.target.value;\n    setDate(value);\n  }\n\n  function handleNotesChange(e) {\n    const value = e.target.value;\n    setNotes(value);\n  }\n\n  function handlePriceChange(e) {\n    const value = e.target.value;\n    setPrice(value);\n  }\n\n  function handleCategoryChange(e) {\n    const value = e.target.id;\n    setCategory(value);\n  }\n\n  function handleCategoryClick(e) {\n    const value = e.target.id;\n    if (value === category) {\n      return setCategory(\"\");\n    }\n    focus();\n  }\n\n  function handleSubmit(e) {\n    if (e.keyCode !== 13) return;\n\n    // Reset if no price\n    if (!price) {\n      return reset();\n    }\n\n    // Polished entry\n    const entry = {\n      category: category || \"❓\",\n      date: date ? String(new Date(date)) : String(new Date()),\n      notes: notes,\n      price: Number(price) || 0,\n    };\n\n    // Submit: create/update on logged user\n    if (context.auth) {\n      if (context.state.isEditing) {\n        updateEntry(context.auth.user.uid, context.state.editingId, entry);\n      } else {\n        addEntry(context.auth.user.uid, entry);\n      }\n      // Test mode (intro)\n    } else {\n      if (context.state.editingId) {\n        testDatabaseDAO.updateEntry(context.state.editingId, entry);\n      } else {\n        testDatabaseDAO.addEntry(entry);\n      }\n    }\n\n    reset();\n  }\n\n  return (\n    <>\n      <form id=\"entry-form\" onKeyDown={handleSubmit}>\n        {!isOnline && <div className=\"element is-offline\">You're offline.</div>}\n        <div className=\"display\">\n          <>\n            <input\n              value={date}\n              onChange={handleDateChange}\n              type=\"text\"\n              placeholder=\"Date\"\n              name=\"date\"\n              className=\"date\"\n            />\n            <input\n              value={notes}\n              onChange={handleNotesChange}\n              type=\"text\"\n              placeholder=\"Notes\"\n              name=\"notes\"\n              className=\"notes\"\n            />\n          </>\n          <input\n            ref={amountInput}\n            value={price}\n            onChange={handlePriceChange}\n            id=\"display-amount\"\n            type=\"number\"\n            placeholder=\"$\"\n            name=\"price\"\n            className=\"amount\"\n          />\n        </div>\n\n        <div className=\"categories-selector\">\n          {supportedCategories.map((i) => {\n            let _category = Object.keys(i)[0];\n            let emoji = i[_category];\n            return (\n              <label\n                onClick={handleCategoryClick}\n                htmlFor={_category}\n                key={_category}\n                className={emoji === category ? null : \"highlighted\"}\n              >\n                <span role=\"img\" aria-label={\"Emoji of \" + _category}>\n                  {emoji}\n                </span>\n                <input\n                  checked={emoji === category}\n                  onChange={handleCategoryChange}\n                  type=\"radio\"\n                  id={emoji}\n                  name=\"category\"\n                />\n              </label>\n            );\n          })}\n        </div>\n      </form>\n    </>\n  );\n};\n","import accounting from \"accounting\";\n\n// Settings\naccounting.settings = {\n  currency: {\n    symbol: \"$\",   // default currency symbol is '$'\n    decimal: \".\",  // decimal point separator\n    thousand: \",\",  // thousands separator\n    precision: 2   // decimal places\n  },\n  number: {\n    precision: 0,  // default precision on numbers is 0\n    thousand: \",\",\n    decimal: \".\"\n  }\n}\n\naccounting.settings.currency.format = {\n  pos: \"%s %v\",   // for positive values, eg. \"$ 1.00\" (required)\n  neg: \"%s (%v)\", // for negative values, eg. \"$ (1.00)\" [optional]\n  zero: \"%s --\"  // for zero values, eg. \"$  --\" [optional]\n};\n\nexport default accounting;","import React from \"react\";\nimport accounting from \"../utility/accounting\";\n\nexport default function Summary(props) {\n  const expenses = Object.keys(props.data)\n    .filter((key) => props.data[key].category !== '💵')\n    .map((key) => props.data[key].price)\n    .reduce((a, b) => a + b, 0);\n\n  const income = Object.keys(props.data)\n    .filter((key) => props.data[key].category === '💵')\n    .map((key) => props.data[key].price)\n    .reduce((a, b) => a + b, 0);\n\n  const balance = income - expenses;\n\n  return (\n    <ul className=\"summary\">\n      <li>\n        <h3>Expenses</h3>\n        <p>{accounting.formatMoney(expenses)}</p>\n      </li>\n      <li>\n        <h3>Income</h3>\n        <p>{accounting.formatMoney(income)}</p>\n      </li>\n      <li>\n        <h3>Balance</h3>\n        <p>{accounting.formatMoney(balance)}</p>\n      </li>\n    </ul>\n  );\n}\n","import React from \"react\";\n\nexport default function ListHeader({ setSort, sortBy, inverted }) {\n  function handleStyling(field) {\n    let className = \"\";\n    if (field === sortBy) {\n      className += \"bold\";\n      if (inverted) className += \" inverted\";\n    }\n    return className;\n  }\n\n  return (\n    <div className=\"description\">\n      <p onClick={setSort} className={handleStyling(\"type\")}>\n        Type\n      </p>\n      <p onClick={setSort} className={handleStyling(\"date\")}>\n        Date\n      </p>\n      <p onClick={setSort} className={handleStyling(\"price\")}>\n        Price\n      </p>\n      <p onClick={setSort} className={handleStyling(\"notes\")}>\n        Notes\n      </p>\n    </div>\n  );\n}\n","import React, { useState } from \"react\";\n\nexport default function ListSearch({ setFilter }) {\n  const [value, setValue] = useState(null);\n\n  function handleChange(e) {\n    const value = e.target.value;\n\n    setValue(value);\n    return setFilter(value);\n  }\n\n  return (\n    <>\n      <input\n        onChange={handleChange}\n        value={value}\n        className=\"list-search\"\n        placeholder=\"Search...\"\n        type=\"text\"\n      />\n    </>\n  );\n}\n","import React, { useState, useContext, useEffect } from \"react\";\nimport monthDay from \"../utility/monthDay\";\nimport Summary from \"./Summary\";\nimport accounting from \"../utility/accounting\";\nimport { Context } from \"../context/ContextWrapper\";\nimport { deleteEntry } from \"../repository/firebase-repository\";\nimport ListHeader from \"./ListHeader\";\nimport ListSearch from \"./ListSearch\";\n\nexport const List = (props) => {\n  const [state, setState] = useState({\n    inverted: false,\n    sortBy: \"date\",\n    endOfListTop: true,\n    endOfListBottom: true,\n  });\n  const [filter, setFilter] = useState(\"\");\n  const [data, setData] = useState(sortData(props.data));\n  const { context, toggleEditing, testDatabaseDAO } = useContext(Context);\n\n  useEffect(() => {\n    setData(sortData(filterData(props.data)));\n  }, [props.data, state.sortBy, state.inverted, filter]);\n\n  function filterData(data) {\n    const filteredKeys = Object.keys(data).filter((i) =>\n      data[i].notes.toLowerCase().includes(filter.toLowerCase().trim())\n    );\n\n    const filteredData = {};\n    filteredKeys.forEach((i) => {\n      filteredData[i] = data[i];\n    });\n\n    return filteredData;\n  }\n\n  function handleDelete(id) {\n    toggleEditing();\n\n    // Intro mode\n    if (!context.auth) {\n      return testDatabaseDAO.deleteEntry(id);\n    }\n\n    return deleteEntry(context.auth.user.uid, id);\n  }\n\n  function handleClick(k) {\n    if (k.target.className.includes(\"delete\")) return;\n\n    const id = k.target.parentElement.id;\n\n    if (id === context.state.editingId) {\n      return toggleEditing();\n    }\n\n    return toggleEditing(id);\n  }\n\n  function sortData(data) {\n    const database = { ...data };\n    let sortBy = state.sortBy;\n    let sortByedKeys = Object.keys(database).sort((a, b) => {\n      if (sortBy === \"date\") {\n        if (new Date(database[a][sortBy]) < new Date(database[b][sortBy]))\n          return 1;\n        if (new Date(database[a][sortBy]) > new Date(database[b][sortBy]))\n          return -1;\n      }\n      if (sortBy === \"price\") {\n        if (database[a][sortBy] < database[b][sortBy]) return 1;\n        if (database[a][sortBy] > database[b][sortBy]) return -1;\n      }\n      if (database[a][sortBy] < database[b][sortBy]) return -1;\n      if (database[a][sortBy] > database[b][sortBy]) return 1;\n      return 0;\n    });\n\n    if (state.inverted) {\n      sortByedKeys = sortByedKeys.reverse();\n    }\n\n    let sortedDatabase = {};\n    for (let key of sortByedKeys) {\n      sortedDatabase[key] = database[key];\n    }\n\n    return sortedDatabase;\n  }\n\n  function setSort(e) {\n    if (e.target.innerHTML.toLowerCase() === state.sortBy) {\n      return setState((prev) => ({ ...prev, inverted: !prev.inverted }));\n    }\n    setState({\n      ...state,\n      inverted: false,\n      sortBy: e.target.innerHTML.toLowerCase(),\n    });\n  }\n\n  return (\n    <div className=\"element\">\n      <div className=\"title-search\">\n        <h2 className=\"title\">{props.title}</h2>\n        <ListSearch setFilter={setFilter} />\n      </div>\n      <Summary data={data} />\n      <ListHeader\n        setSort={setSort}\n        sortBy={state.sortBy}\n        inverted={state.inverted}\n      />\n      <div className=\"list-wrapper\">\n        {/* <div\n          className={\n            \"list-continues-bottom\" + (!state.endOfListBottom ? \" visible\" : \"\")\n          }\n        ></div>\n        <div\n          className={\n            \"list-continues-top\" + (!state.endOfListTop ? \" visible\" : \"\")\n          }\n        ></div> */}\n\n        <div className=\"list\">\n          {data &&\n            Object.keys(data).map((k) => {\n              return (\n                <div\n                  className={\n                    context.state.isEditing && context.state.editingId === k\n                      ? \"selected\"\n                      : \"\"\n                  }\n                  key={k}\n                >\n                  <div className=\"entry\" id={k} onClick={handleClick}>\n                    <span className=\"icon\">{data[k].category}</span>\n                    <p>{monthDay(data[k].date)}</p>\n                    <p>{accounting.formatMoney(data[k].price)}</p>\n                    <p>{data[k].notes}</p>\n                    <span\n                      role=\"img\"\n                      aria-label=\"emoji\"\n                      id={k}\n                      onClick={() => handleDelete(k)}\n                      className=\"icon delete\"\n                    >\n                      ❌\n                    </span>\n                  </div>\n                </div>\n              );\n            })}\n        </div>\n      </div>\n    </div>\n  );\n};\n","export default function monthDay(userDate) {\n  const date = new Date(userDate);\n  return `${date.getMonth() + 1}/${date.getDate()}`;\n}\n ","import React from \"react\";\nimport { useContext } from \"react\";\nimport { Context } from \"../context/ContextWrapper\";\n\nexport function Menu() {\n  const { context, updateContext, isOpen, setOpen, login, logout } =\n    useContext(Context);\n  const user = context.auth?.user;\n\n  return (\n    <div className={\"menu-plate\" + (isOpen ? \" blurred\" : \" disabled\")}>\n      <div className={\"menu\" + (isOpen ? \" open\" : \"\")}>\n        <button onClick={() => setOpen(false)}>Close Menu</button>\n        <img src={user?.photoURL} alt=\"User profile image\" />\n        <h2>Welcome, {user?.displayName}</h2>\n        <h3>{user?.email}</h3>\n\n        {!context.auth ? (\n          <button\n            className=\"login\"\n            onClick={async () => updateContext(await login())}\n          >\n            Login with Google\n          </button>\n        ) : (\n          <button className=\"login\" onClick={() => updateContext(logout())}>\n            Logout\n          </button>\n        )}\n\n        <p className=\"copyright\">\n          Copyright &copy; {new Date().getFullYear()} Giorgio Cesaroni. All\n          rights reserved.\n        </p>\n      </div>\n    </div>\n  );\n}\n","import React, { useEffect, useContext } from \"react\";\nimport { Context } from \"./context/ContextWrapper\";\nimport { Intro } from \"./components/Intro\";\nimport { Form } from \"./components/Form\";\nimport { List } from \"./components/List\";\nimport { login, logout } from \"./auth/auth-with-google\";\nimport { getAuthFromLocalStorage } from \"./auth/auth-local-storage\";\nimport { subscribeDatabase } from \"./repository/firebase-repository\";\nimport { Menu } from \"./components/Menu\";\n\n// Currently supported categories\nexport const supportedCategories = [\n    { pizza: \"🍕\" },\n    { gas: \"⛽️\" },\n    { utility: \"⚙️\" },\n    { groceries: \"🥑\" },\n    { income: \"💵\" },\n];\n\nexport const App = () => {\n    const {\n        context,\n        updateContext,\n        isOnline,\n        isOpen,\n        setOpen,\n        handleLogin,\n        handleLogout,\n    } = useContext(Context);\n\n    function filterThisMonth(data) {\n        if (!data) return;\n        const filteredObject = {};\n        for (const key in data) {\n            if (new Date(data[key].date).getMonth() === new Date().getMonth()) {\n                filteredObject[key] = data[key];\n            }\n        }\n        return filteredObject;\n    }\n\n    function filterLastMonth(data) {\n        if (!data) return;\n        const filteredObject = {};\n        for (const key in data) {\n            if (\n                new Date(data[key].date).getMonth() ===\n                    new Date().getMonth() - 1 &&\n                new Date(data[key].date).getFullYear() ===\n                    new Date().getFullYear()\n            ) {\n                filteredObject[key] = data[key];\n            }\n        }\n        return filteredObject;\n    }\n\n    useEffect(() => {\n        const authFromLocalStorage = getAuthFromLocalStorage();\n\n        if (context.auth?.user) {\n            const unsubscribe = subscribeDatabase(\n                context.auth.user.uid,\n                updateContext\n            );\n            return unsubscribe;\n        }\n\n        if (!context.auth && authFromLocalStorage) {\n            updateContext({\n                auth: authFromLocalStorage,\n            });\n            const unsubscribe = subscribeDatabase(\n                authFromLocalStorage.user.uid,\n                updateContext\n            );\n            return unsubscribe;\n        }\n    }, [context.auth]);\n\n    return (\n        <>\n            <Menu />\n            <div\n                className={\n                    \"App\" +\n                    (isOnline ? \"\" : \" offline\") +\n                    (isOpen ? \" disabled\" : \"\")\n                }\n            >\n                <button onClick={() => setOpen(!isOpen)} className=\"open-menu\">\n                    Open Menu\n                </button>\n                <Form />\n                <main>\n                    {!context.auth && <Intro />}\n                    <List\n                        title=\"This Month\"\n                        data={filterThisMonth(context.database)}\n                    />\n                    <List\n                        title=\"Last Month\"\n                        data={filterLastMonth(context.database)}\n                    />\n                </main>\n            </div>\n        </>\n    );\n};\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { App } from \"./App\";\nimport { ContextWrapper } from \"./context/ContextWrapper\";\nimport \"./styles/App.css\";\nimport \"./styles/index.css\";\nimport \"./styles/Fonts.css\";\nimport \"./styles/Menu.css\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <ContextWrapper>\n      <App />\n    </ContextWrapper>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}